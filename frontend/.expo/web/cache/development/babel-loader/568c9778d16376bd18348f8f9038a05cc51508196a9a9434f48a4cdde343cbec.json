{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport CustomButton from \"../components/CustomButton\";\nimport API from \"../api\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function CommunityScreen() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    posts = _useState2[0],\n    setPosts = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    text = _useState4[0],\n    setText = _useState4[1];\n  useEffect(function () {\n    fetchPosts();\n  }, []);\n  var fetchPosts = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var res = yield API.get(\"/community\");\n        setPosts(res.data);\n      } catch (err) {\n        console.error(err);\n        Alert.alert(\"Error\", \"Failed to load posts\");\n      }\n    });\n    return function fetchPosts() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var addPost = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var res = yield API.post(\"/community\", {\n          text: text\n        });\n        setPosts([].concat(_toConsumableArray(posts), [res.data]));\n        setText(\"\");\n      } catch (err) {\n        console.error(err);\n        Alert.alert(\"Error\", \"Failed to add post\");\n      }\n    });\n    return function addPost() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Community Posts\"\n    }), _jsx(FlatList, {\n      data: posts,\n      keyExtractor: function keyExtractor(item) {\n        return item._id;\n      },\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return _jsxs(Text, {\n          style: styles.post,\n          children: [\"\\u2022 \", item.text]\n        });\n      }\n    }), _jsx(TextInput, {\n      placeholder: \"Write something...\",\n      style: styles.input,\n      value: text,\n      onChangeText: setText\n    }), _jsx(CustomButton, {\n      text: \"Post\",\n      onPress: addPost\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20\n  },\n  title: {\n    fontSize: 22,\n    fontWeight: \"bold\",\n    marginBottom: 10\n  },\n  post: {\n    fontSize: 16,\n    marginBottom: 5\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: \"#ccc\",\n    padding: 12,\n    borderRadius: 8,\n    marginTop: 10\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","View","Text","FlatList","TextInput","StyleSheet","Alert","CustomButton","API","jsx","_jsx","jsxs","_jsxs","CommunityScreen","_useState","_useState2","_slicedToArray","posts","setPosts","_useState3","_useState4","text","setText","fetchPosts","_ref","_asyncToGenerator","res","get","data","err","console","error","alert","apply","arguments","addPost","_ref2","post","concat","_toConsumableArray","style","styles","container","children","title","keyExtractor","item","_id","renderItem","_ref3","placeholder","input","value","onChangeText","onPress","create","flex","padding","fontSize","fontWeight","marginBottom","borderWidth","borderColor","borderRadius","marginTop"],"sources":["/Users/sanket/Desktop/esports-platform/frontend/src/screens/CommunityScreen.js"],"sourcesContent":["// src/screens/CommunityScreen.js\nimport React, { useEffect, useState } from \"react\";\nimport { View, Text, FlatList, TextInput, StyleSheet, Alert } from \"react-native\";\nimport CustomButton from \"../components/CustomButton\";\nimport API from \"../api\";\n\nexport default function CommunityScreen() {\n  const [posts, setPosts] = useState([]);\n  const [text, setText] = useState(\"\");\n\n  useEffect(() => {\n    fetchPosts();\n  }, []);\n\n  const fetchPosts = async () => {\n    try {\n      const res = await API.get(\"/community\");\n      setPosts(res.data);\n    } catch (err) {\n      console.error(err);\n      Alert.alert(\"Error\", \"Failed to load posts\");\n    }\n  };\n\n  const addPost = async () => {\n    try {\n      const res = await API.post(\"/community\", { text });\n      setPosts([...posts, res.data]);\n      setText(\"\");\n    } catch (err) {\n      console.error(err);\n      Alert.alert(\"Error\", \"Failed to add post\");\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Community Posts</Text>\n      <FlatList\n        data={posts}\n        keyExtractor={(item) => item._id}\n        renderItem={({ item }) => <Text style={styles.post}>â€¢ {item.text}</Text>}\n      />\n      <TextInput\n        placeholder=\"Write something...\"\n        style={styles.input}\n        value={text}\n        onChangeText={setText}\n      />\n      <CustomButton text=\"Post\" onPress={addPost} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: { flex: 1, padding: 20 },\n  title: { fontSize: 22, fontWeight: \"bold\", marginBottom: 10 },\n  post: { fontSize: 16, marginBottom: 5 },\n  input: {\n    borderWidth: 1,\n    borderColor: \"#ccc\",\n    padding: 12,\n    borderRadius: 8,\n    marginTop: 10,\n  },\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}